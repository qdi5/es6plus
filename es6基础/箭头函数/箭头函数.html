<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>箭头函数</title>
  </head>
  <body>
    <script>
      // es5
      var example = function(parameters) {};

      // es6
      // 使用箭头函数
      var example = parameters => {};

      // 词法作用域
      // 在箭头函数的函数体内，this、arguments、以及super均属于所在的父级作用域。
      var timer = {
        seconds: 0,
        start() {
          setInterval(() => {
            this.seconds++;
          }, 1000);
        }
      };

      // ES6箭头函数的作用域始终指向它所定义的父级作用域
      function puzzle() {
        return function() {
          console.log([].slice.call(arguments));
        };
      }

      puzzle("a", "b", "c")(1, 2, 3); // [1,2,3]

      function puzzle2() {
        return () => console.log([].slice.call(arguments));
      }

      puzzle2("a", "b", "c")(1, 2, 3); // ['a','b','c']

      // 在没有参数或者有多个参数的时候，需要带上()，其他情况可以省略括号
      var ex = (a, b) => 1;
      var ex2 = () => 1;
      var wx = a => 1;

      // 想要隐式返回对象字面量，需要使用圆括号将对象字面量包裹起来
      var objectFactory = () => ({ modular: "es6" });

      // 使用新特性是为了提高代码的可读性和可维护性

      // 当一个函数包含很多行代码时，使用箭头函数并不能对代码起到改进作用；箭头函数更适合简短实例；
    </script>
  </body>
</html>
